<Window x:Class="FPBooster.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="FPBooster"
        Height="820" Width="1360"
        MinWidth="960" MinHeight="640"
        Icon="/UI/Resources/icon.ico" 
        WindowStartupLocation="CenterScreen"
        Background="#0D0D13"
        Loaded="OnLoaded"
        Closing="OnClosing"
        AllowDrop="True"
        PreviewDragOver="Window_PreviewDragOver"
        Drop="Window_Drop">

    <Window.Resources>
        <Style x:Key="HeaderText" TargetType="TextBlock">
            <Setter Property="Foreground" Value="{DynamicResource BrushAccentLight}"/>
            <Setter Property="FontWeight" Value="SemiBold"/>
            <Setter Property="FontSize" Value="15"/>
            <Setter Property="Margin" Value="0,0,0,8"/>
        </Style>

        <Style x:Key="SubHeaderText" TargetType="TextBlock">
            <Setter Property="Foreground" Value="{DynamicResource BrushSubText}"/>
            <Setter Property="FontWeight" Value="SemiBold"/>
            <Setter Property="FontSize" Value="13"/>
        </Style>

        <Style x:Key="Card" TargetType="Border">
            <Setter Property="CornerRadius" Value="12"/>
            <Setter Property="Padding" Value="14"/>
            <Setter Property="Background" Value="#661A1A2A"/>
            <Setter Property="BorderBrush" Value="{DynamicResource BrushBorder}"/>
            <Setter Property="BorderThickness" Value="1"/>
        </Style>

        <Style x:Key="TopBarButton" TargetType="Button" BasedOn="{StaticResource BaseButton}">
            <Setter Property="Background" Value="Transparent"/>
            <Setter Property="BorderBrush" Value="Transparent"/>
            <Setter Property="FontWeight" Value="SemiBold"/>
            <Setter Property="Padding" Value="16,10"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Button">
                        <Border x:Name="TB" Background="{TemplateBinding Background}" CornerRadius="8" Padding="{TemplateBinding Padding}">
                            <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter TargetName="TB" Property="Background" Value="#1F1F2A"/>
                            </Trigger>
                            <Trigger Property="IsPressed" Value="True">
                                <Setter TargetName="TB" Property="Background" Value="#16161D"/>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <Style TargetType="ListBox">
            <Setter Property="Background" Value="#66141420"/>
            <Setter Property="Foreground" Value="{DynamicResource BrushText}"/>
            <Setter Property="BorderThickness" Value="0"/>
            <Setter Property="Padding" Value="6"/>
            <Setter Property="AllowDrop" Value="True"/>
        </Style>

        <Style TargetType="ListBoxItem">
            <Setter Property="Padding" Value="6,4"/>
            <Setter Property="Margin" Value="0,1"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="ListBoxItem">
                        <Border x:Name="ItemBorder" CornerRadius="6" Background="{TemplateBinding Background}">
                            <ContentPresenter Margin="6,2" VerticalAlignment="Center"/>
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter TargetName="ItemBorder" Property="Background" Value="#661E2230"/>
                                <Setter TargetName="ItemBorder" Property="BorderThickness" Value="1"/>
                                <Setter TargetName="ItemBorder" Property="BorderBrush" Value="{DynamicResource BrushBorder}"/>
                            </Trigger>
                            <Trigger Property="IsSelected" Value="True">
                                <Setter TargetName="ItemBorder" Property="Background" Value="{DynamicResource BrushAccentDeep}"/>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <ContextMenu x:Key="NodeListContextMenu">
            <MenuItem Header="–û—Ç–∫—Ä—ã—Ç—å –≤ –±—Ä–∞—É–∑–µ—Ä–µ" Click="OnOpenNodeInBrowser"/>
            <Separator/>
            <MenuItem Header="–°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –≤—ã–¥–µ–ª–µ–Ω–Ω—ã–µ" Click="OnCopyNodesClick"/>
            <MenuItem Header="–£–¥–∞–ª–∏—Ç—å –≤—ã–¥–µ–ª–µ–Ω–Ω—ã–µ" Click="RemoveNode_Click"/>
            <MenuItem Header="–û—á–∏—Å—Ç–∏—Ç—å —Å–ø–∏—Å–æ–∫" Click="ClearNodes_Click"/>
        </ContextMenu>
    </Window.Resources>

    <Window.InputBindings>
        <KeyBinding Gesture="Ctrl+C" Command="{x:Static ApplicationCommands.Copy}"/>
        <KeyBinding Gesture="Ctrl+A" Command="{x:Static ApplicationCommands.SelectAll}"/>
    </Window.InputBindings>

    <DockPanel>
        <Border DockPanel.Dock="Top" Background="{DynamicResource BrushPanelAlt}" Padding="12">
            <DockPanel LastChildFill="False">
                <TextBlock Text="FPBooster" FontSize="28" FontWeight="Black" Foreground="{DynamicResource BrushAccentLight}"
                           Margin="12,0,40,0" VerticalAlignment="Center" DockPanel.Dock="Left"/>
                
                <StackPanel Orientation="Horizontal" VerticalAlignment="Center" DockPanel.Dock="Left">
                    <Button Content="‚Ñπ –û —Å–æ—Ñ—Ç–µ" Style="{StaticResource TopBarButton}" Margin="6,0" Click="OnAboutClick"/>
                    <Button Content="üí¨ –ü–æ–¥–¥–µ—Ä–∂–∫–∞" Style="{StaticResource TopBarButton}" Margin="6,0" Click="OnSupportClick"/>
                    <Button Content="‚¨Ü –û–±–Ω–æ–≤–ª–µ–Ω–∏—è" Style="{StaticResource TopBarButton}" Margin="6,0" Click="OnUpdatesClick"/>
                    <Button Content="üìú –û –ª–∏—Ü–µ–Ω–∑–∏–∏" Style="{StaticResource TopBarButton}" Margin="6,0" Click="OnLicenseClick"/>
                    <Button Content="üçÉ Eco Mode" Style="{StaticResource TopBarButton}" Margin="6,0" Click="OnEcoModeClick"/>
                    <Button Content="ü§ù –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –∞–≤—Ç–æ—Ä–∞" Style="{StaticResource TopBarButton}" Margin="6,0" Click="OnAuthorClick"/>
                </StackPanel>

                <StackPanel Orientation="Horizontal" VerticalAlignment="Center" DockPanel.Dock="Right">
                    <TextBlock Text="–¢–µ–º–∞:" Foreground="{DynamicResource BrushSubText}" VerticalAlignment="Center" Margin="0,0,8,0"/>
                    <ComboBox x:Name="ThemeCombo" Width="190" SelectionChanged="ThemeCombo_Changed">
                        <ComboBoxItem Content="Midnight Blue"/>
                        <ComboBoxItem Content="Dark Goldboy"/>
                        <ComboBoxItem Content="Celestial"/>
                    </ComboBox>
                </StackPanel>
            </DockPanel>
        </Border>

        <Grid>
            <Grid x:Name="DashboardGrid" RenderTransformOrigin="0.5,0.5">
                <Grid.RenderTransform>
                    <TransformGroup>
                        <ScaleTransform x:Name="DashScale"/>
                        <TranslateTransform x:Name="DashTranslate"/>
                    </TransformGroup>
                </Grid.RenderTransform>

                <Image x:Name="BackgroundImage" HorizontalAlignment="Left" VerticalAlignment="Center"
                       Stretch="Uniform" Width="550" MaxHeight="800" Opacity="0.25"
                       Panel.ZIndex="0" IsHitTestVisible="False" SnapsToDevicePixels="True" Margin="-50,0,0,0">
                    <Image.RenderTransform>
                        <ScaleTransform ScaleX="-1"/>
                    </Image.RenderTransform>
                    <Image.RenderTransformOrigin>
                        <Point X="0.5" Y="0.5"/>
                    </Image.RenderTransformOrigin>
                </Image>

                <Canvas x:Name="ThemeParticles" IsHitTestVisible="False" Panel.ZIndex="1" Visibility="Collapsed"/>

                <ScrollViewer VerticalScrollBarVisibility="Auto">
                    <Grid Margin="20">
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="15"/>
                            <RowDefinition Height="*"/>
                            <RowDefinition Height="280"/>
                        </Grid.RowDefinitions>

                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="520"/> <ColumnDefinition Width="20"/>
                            <ColumnDefinition Width="*"/>   <ColumnDefinition Width="20"/>
                            <ColumnDefinition Width="360"/> </Grid.ColumnDefinitions>

                        <Border Style="{StaticResource Card}" Grid.Row="0" Grid.Column="0">
                            <Grid>
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="Auto"/>
                                    <RowDefinition Height="Auto"/>
                                    <RowDefinition Height="*"/>
                                    <RowDefinition Height="Auto"/>
                                </Grid.RowDefinitions>

                                <TextBlock Text="–í–ê–®–ò NODEID (–†–ê–ó–î–ï–õ–´)" Style="{StaticResource HeaderText}" Grid.Row="0"/>

                                <Grid Grid.Row="1" Margin="0,0,0,12">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="*"/>
                                        <ColumnDefinition Width="150"/>
                                    </Grid.ColumnDefinitions>
                                    <TextBox x:Name="NodeInput" Grid.Column="0" MinWidth="120" VerticalAlignment="Center"
                                             Tag="–í–≤–µ–¥–∏—Ç–µ ID (–Ω–∞–ø—Ä–∏–º–µ—Ä 123)" ToolTip="–í–≤–µ–¥–∏—Ç–µ ID –∏–ª–∏ URL —Ä–∞–∑–¥–µ–ª–∞"
                                             PreviewKeyDown="NodeInput_PreviewKeyDown" Drop="NodeInput_Drop"/>
                                    <Button Content="–î–æ–±–∞–≤–∏—Ç—å" Grid.Column="1" Width="140" Margin="8,0,0,0" Click="AddNode_Click" Style="{StaticResource PrimaryButton}"/>
                                </Grid>

                                <ListBox x:Name="NodeList" Grid.Row="2" VerticalAlignment="Stretch" MinHeight="200"
                                         MouseDoubleClick="NodeList_MouseDoubleClick" PreviewKeyDown="NodeList_PreviewKeyDown"
                                         Drop="NodeList_Drop" SelectionMode="Extended" ContextMenu="{StaticResource NodeListContextMenu}"/>

                                <StackPanel Grid.Row="3" Orientation="Horizontal" Margin="0,12,0,0" HorizontalAlignment="Left">
                                    <Button Content="–£–¥–∞–ª–∏—Ç—å" Width="120" Height="36" Click="RemoveNode_Click" Style="{StaticResource SecondaryButton}"/>
                                    <Button Content="–û—á–∏—Å—Ç–∏—Ç—å" Width="100" Height="36" Margin="8,0,0,0" Click="ClearNodes_Click" Style="{StaticResource SecondaryButton}"/>
                                    <Button Content="–°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å" Width="120" Height="36" Margin="8,0,0,0" Click="OnCopyNodesClick" Style="{StaticResource SecondaryButton}"/>
                                </StackPanel>
                            </Grid>
                        </Border>

                        <Border Style="{StaticResource Card}" Grid.Row="0" Grid.Column="2">
                            <Grid>
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="Auto"/>
                                    <RowDefinition Height="20"/>
                                    <RowDefinition Height="Auto"/>
                                    <RowDefinition Height="20"/>
                                    <RowDefinition Height="Auto"/>
                                </Grid.RowDefinitions>

                                <StackPanel Grid.Row="0">
                                    <TextBlock Text="GOLDEN KEY" Style="{StaticResource HeaderText}"/>
                                    <Grid Margin="0,6,0,0">
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="*"/>
                                            <ColumnDefinition Width="160"/>
                                        </Grid.ColumnDefinitions>
                                        <TextBox x:Name="GoldenKeyInput" Grid.Column="0" MinWidth="200" VerticalAlignment="Center"
                                                 Tag="–í—Å—Ç–∞–≤—å—Ç–µ –∫–ª—é—á —Å—é–¥–∞" ToolTip="–í—Å—Ç–∞–≤—å—Ç–µ Golden Key –∏–∑ Cookies"
                                                 PreviewKeyDown="GoldenKeyInput_PreviewKeyDown" Drop="GoldenKeyInput_Drop"/>
                                        <Button Grid.Column="1" Content="–°–æ—Ö—Ä–∞–Ω–∏—Ç—å" Width="140" Margin="8,0,0,0" Click="SaveGoldenKey_Click" Style="{StaticResource PrimaryButton}"/>
                                    </Grid>
                                </StackPanel>

                                <StackPanel Grid.Row="2">
                                    <TextBlock Text="–ê–í–¢–û-–ü–û–ò–°–ö –†–ê–ó–î–ï–õ–û–í" Style="{StaticResource HeaderText}"/>
                                    <Button Content="üîÑ –ò–∑–≤–ª–µ—á—å –∞–∫—Ç–∏–≤–Ω—ã–µ Node ID" Height="45" Margin="0,6,0,12"
                                            Click="OnExtractNodesClick" Style="{StaticResource SecondaryButton}" HorizontalAlignment="Stretch"/>

                                    <Border Background="#339D4EDD" CornerRadius="8" Padding="12">
                                        <StackPanel>
                                            <TextBlock Text="üí° –í–Ω–∏–º–∞–Ω–∏–µ" Foreground="#FFD6BCFA" FontWeight="Bold" Margin="0,0,0,4"/>
                                            <TextBlock Text="–ï—Å–ª–∏ —É –≤–∞—Å –µ—Å—Ç—å –Ω–µ–∞–∫—Ç–∏–≤–Ω—ã–µ –ª–æ—Ç—ã, –∫–æ—Ç–æ—Ä—ã–µ –Ω–µ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –≤ –ø—Ä–æ—Ñ–∏–ª–µ, –≤–≤–µ–¥–∏—Ç–µ –∏—Ö NodeID –≤—Ä—É—á–Ω—É—é —Å–ª–µ–≤–∞."
                                                       Foreground="#BBFFFFFF" FontSize="12" TextWrapping="Wrap"/>
                                        </StackPanel>
                                    </Border>
                                </StackPanel>

                                <Border Grid.Row="4" Background="#152ECC71" BorderBrush="#332ECC71" BorderThickness="1"
                                        CornerRadius="8" Padding="12,8" VerticalAlignment="Bottom" MinHeight="46">
                                    <Grid>
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="Auto"/>
                                            <ColumnDefinition Width="*"/>
                                        </Grid.ColumnDefinitions>
                                        <StackPanel Orientation="Horizontal" Grid.Column="0" VerticalAlignment="Center">
                                            <TextBlock Text="üîó" Foreground="#FF2ECC71" FontSize="16" Margin="0,0,8,0"/>
                                            <TextBlock Text="–ê–ö–ö–ê–£–ù–¢" Foreground="#FF2ECC71" FontWeight="Bold" FontSize="12" VerticalAlignment="Center"/>
                                        </StackPanel>
                                        <TextBlock x:Name="LicenseStatus" Grid.Column="1" Text="–ù–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–æ" Foreground="White"
                                                   FontWeight="SemiBold" FontSize="13" TextAlignment="Right" VerticalAlignment="Center" TextWrapping="Wrap"/>
                                    </Grid>
                                </Border>
                            </Grid>
                        </Border>

                        <Border Style="{StaticResource Card}" Grid.Row="0" Grid.Column="4">
                            <ScrollViewer VerticalScrollBarVisibility="Auto">
                                <StackPanel>
                                    <TextBlock Text="FPBOOSTER PLUS" Style="{StaticResource HeaderText}"/>
                                    <TextBlock Foreground="{DynamicResource BrushText}" TextWrapping="Wrap" FontSize="13" LineHeight="20" Margin="0,0,0,15">
                                        –ú–æ—â–Ω—ã–π –∫–æ–º–±–∞–π–Ω –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏ FunPay.
                                        –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å, —Å–∫–æ—Ä–æ—Å—Ç—å, —É–¥–æ–±—Å—Ç–≤–æ.
                                    </TextBlock>

                                    <Button x:Name="BtnToggleInfo" Content="üìñ –ß–∏—Ç–∞—Ç—å –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—é" Click="OnToggleInfoClick"
                                            Style="{StaticResource SecondaryButton}" Height="32" Margin="0,0,0,15"/>

                                    <Image x:Name="InfoSlideshowImage" 
                                           Height="200" 
                                           Stretch="UniformToFill" 
                                           Margin="0,0,0,15"
                                           Opacity="0.35"
                                           IsHitTestVisible="False">
                                        <Image.Clip>
                                            <RectangleGeometry Rect="0,0,330,200" RadiusX="8" RadiusY="8"/>
                                        </Image.Clip>
                                    </Image>

                                    <StackPanel x:Name="InfoDetails" Visibility="Collapsed">
                                        <Separator Margin="0,5,0,15" Background="{DynamicResource BrushBorder}" Height="1"/>
                                        
                                        <TextBlock Text="–ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç:" Style="{StaticResource SubHeaderText}" Margin="0,0,0,8"/>
                                        <StackPanel>
                                            <TextBlock Foreground="{DynamicResource BrushSubText}" TextWrapping="Wrap" Margin="0,0,0,8">
                                                <Run Foreground="{DynamicResource BrushAccentLight}" FontWeight="Bold">1.</Run> –ù–∞ —Å–∞–π—Ç–µ FunPay –Ω–∞–∂–º–∏—Ç–µ F12 ‚Üí Application ‚Üí Cookies.
                                            </TextBlock>
                                            <TextBlock Foreground="{DynamicResource BrushSubText}" TextWrapping="Wrap" Margin="0,0,0,8">
                                                <Run Foreground="{DynamicResource BrushAccentLight}" FontWeight="Bold">2.</Run> –°–∫–æ–ø–∏—Ä—É–π—Ç–µ <Run FontStyle="Italic">golden_key</Run> –∏ –≤—Å—Ç–∞–≤—å—Ç–µ –≤ –ø—Ä–æ–≥—Ä–∞–º–º—É.
                                            </TextBlock>
                                            <TextBlock Foreground="{DynamicResource BrushSubText}" TextWrapping="Wrap" Margin="0,0,0,8">
                                                <Run Foreground="{DynamicResource BrushAccentLight}" FontWeight="Bold">3.</Run> –ù–∞–∂–º–∏—Ç–µ <Run FontWeight="Bold">¬´–ò–∑–≤–ª–µ—á—å –∞–∫—Ç–∏–≤–Ω—ã–µ¬ª</Run>.
                                            </TextBlock>
                                        </StackPanel>

                                        <Separator Margin="0,10,0,15" Background="{DynamicResource BrushBorder}" Height="1"/>
                                        
                                        <TextBlock Text="–§—É–Ω–∫—Ü–∏–∏:" Style="{StaticResource SubHeaderText}" Margin="0,0,0,8"/>
                                        <TextBlock Foreground="{DynamicResource BrushSubText}" TextWrapping="Wrap" Margin="0,0,0,6">
                                            ‚ú® <Run FontWeight="SemiBold" Foreground="#9CF2B2">Eco Mode:</Run> –°–≤–æ—Ä–∞—á–∏–≤–∞–µ—Ç –≤ —Ç—Ä–µ–π, —ç–∫–æ–Ω–æ–º–∏—Ç —Ä–µ—Å—É—Ä—Å—ã.
                                        </TextBlock>
                                    </StackPanel>

                                    <Separator Margin="0,5,0,10" Background="{DynamicResource BrushBorder}" Height="1"/>
                                    
                                    <StackPanel Orientation="Horizontal" HorizontalAlignment="Right">
                                        <TextBlock Text="Dev by:" Foreground="#66FFFFFF" FontSize="11" Margin="0,0,5,0"/>
                                        <TextBlock Text="@Manavoid_228" Foreground="#88AAFF" FontSize="11" FontWeight="Bold" Cursor="Hand"/>
                                    </StackPanel>
                                </StackPanel>
                            </ScrollViewer>
                        </Border>

                        <Border Style="{StaticResource Card}" Grid.Row="2" Grid.ColumnSpan="5">
                            <DockPanel>
                                <TextBlock Text="–ò–ù–°–¢–†–£–ú–ï–ù–¢–´" Style="{StaticResource HeaderText}" DockPanel.Dock="Top"/>
                                <UniformGrid Rows="2" Columns="3" Margin="0,8,0,0">
                                    <Button Content="–ê–í–¢–û –ü–û–î–ù–Ø–¢–ò–ï (LOCAL)" Height="54" Margin="8" Click="OpenAutoBump_Click" Style="{StaticResource PrimaryButton}"/>
                                    <Button Content="‚òÅÔ∏è FPBOOSTER PLUS" Height="54" Margin="8" Click="OpenPlusCloud_Click" 
                                            Style="{StaticResource PrimaryButton}" BorderBrush="#9B4BFF" BorderThickness="2"/>
                                    <Button Content="–£–î–ê–õ–ï–ù–ò–ï –õ–û–¢–û–í" Height="54" Margin="8" Click="OpenLotsDelete_Click" Style="{StaticResource PrimaryButton}"/>
                                    <Button Content="–ê–í–¢–û–ü–û–ü–û–õ–ù–ï–ù–ò–ï (LOCAL)" Height="54" Margin="8" Click="OpenAutoRestock_Click" Style="{StaticResource PrimaryButton}"/>
                                    <Button Content="–°–¢–ê–¢–ò–°–¢–ò–ö–ê –ü–†–û–§–ò–õ–Ø" Height="54" Margin="8" Click="OpenAdvProfileStat_Click" Style="{StaticResource PrimaryButton}"/>
                                    <Button Content="–ï–©–Å‚Ä¶" Height="54" Margin="8" Style="{StaticResource PrimaryButton}" Click="OnMoreButtonClick">
                                        <Button.ContextMenu>
                                            <ContextMenu x:Name="MoreMenu">
                                                <MenuItem Header="–ê–∫—Ç–∏–≤–∞—Ü–∏—è –ª–æ—Ç–æ–≤" Click="OpenLotsToggle_Click"/>
                                                <MenuItem Header="–£–¥–∞–ª–µ–Ω–∏–µ –ª–æ—Ç–æ–≤" Click="OpenLotsDelete_Click"/>
                                                <MenuItem Header="–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞" Click="OpenAdvProfileStat_Click"/>
                                            </ContextMenu>
                                        </Button.ContextMenu>
                                    </Button>
                                </UniformGrid>
                            </DockPanel>
                        </Border>

                        <Border Style="{StaticResource Card}" Grid.Row="3" Grid.ColumnSpan="5" Background="#660E0E18" Margin="0,24,0,0">
                            <DockPanel>
                                <StackPanel DockPanel.Dock="Top" Orientation="Horizontal" Margin="0,0,0,8">
                                    <TextBlock Text="–õ–û–ì" Style="{StaticResource HeaderText}" VerticalAlignment="Center"/>
                                    <Button Content="–û—á–∏—Å—Ç–∏—Ç—å" Style="{StaticResource SecondaryButton}" Width="100" Height="26" Margin="12,0,0,0" VerticalAlignment="Center" Click="ClearLog_Click"/>
                                </StackPanel>
                                <ScrollViewer VerticalScrollBarVisibility="Auto" Background="#660A0A12">
                                    <ItemsControl x:Name="LogBox" ItemsSource="{Binding LogEntries, RelativeSource={RelativeSource AncestorType=Window}}">
                                        <ItemsControl.ItemTemplate>
                                            <DataTemplate>
                                                <TextBlock Text="{Binding Text}" Foreground="{Binding Color}" FontFamily="Consolas" FontSize="12" TextWrapping="Wrap"/>
                                            </DataTemplate>
                                        </ItemsControl.ItemTemplate>
                                    </ItemsControl>
                                </ScrollViewer>
                            </DockPanel>
                        </Border>
                    </Grid>
                </ScrollViewer>
            </Grid>

            <Border x:Name="PluginArea" Background="Transparent" Visibility="Collapsed" Panel.ZIndex="10" RenderTransformOrigin="0.5,0.5" IsHitTestVisible="False">
                <Border.RenderTransform>
                    <TransformGroup>
                        <ScaleTransform x:Name="PluginScale"/>
                        <TranslateTransform x:Name="PluginTranslate"/>
                    </TransformGroup>
                </Border.RenderTransform>
                <Grid>
                    <Border x:Name="PluginBackgroundOverlay" Background="#0D0D13" HorizontalAlignment="Stretch" VerticalAlignment="Stretch" Panel.ZIndex="0"/>
                    <Image x:Name="PluginBannerImage" HorizontalAlignment="Right" VerticalAlignment="Center" Stretch="Uniform" Width="350" MaxHeight="450" Opacity="0.25" Panel.ZIndex="1" IsHitTestVisible="False" SnapsToDevicePixels="True" Margin="0,0,15,0"/>
                    <Canvas x:Name="PluginParticles" IsHitTestVisible="False" Panel.ZIndex="2" Visibility="Collapsed"/>
                    <DockPanel Margin="18" Panel.ZIndex="3">
                        <StackPanel DockPanel.Dock="Top" Orientation="Horizontal">
                            <Button Content="‚Üê –ù–∞–∑–∞–¥" Click="OnBackFromPlugin_Click" Style="{StaticResource SecondaryButton}" Margin="0,0,8,12"/>
                            <TextBlock Text="–≠–∫—Ä–∞–Ω –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞" Style="{StaticResource HeaderText}" VerticalAlignment="Center"/>
                        </StackPanel>
                        <Border Style="{StaticResource Card}">
                            <ContentControl x:Name="PluginHost"/>
                        </Border>
                    </DockPanel>
                </Grid>
            </Border>
        </Grid>

        <Border DockPanel.Dock="Bottom" Background="{DynamicResource BrushPanelAlt}" Padding="8,6">
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>
                <StackPanel Orientation="Horizontal">
                    <TextBlock Text="Golden Key:" Foreground="{DynamicResource BrushSubText}" Margin="0,0,6,0"/>
                    <TextBlock x:Name="GoldenKeyMasked" Text="‚Äî" Foreground="{DynamicResource BrushText}" Margin="0,0,12,0"/>
                    <TextBlock Text="NodeID:" Foreground="{DynamicResource BrushSubText}" Margin="0,0,6,0"/>
                    <TextBlock x:Name="NodeCount" Text="0" Foreground="{DynamicResource BrushText}"/>
                </StackPanel>
                <StackPanel Orientation="Horizontal" Grid.Column="1">
                    <TextBlock Text="–¢–µ–º–∞:" Foreground="{DynamicResource BrushSubText}" Margin="0,0,6,0"/>
                    <TextBlock x:Name="ThemeName" Text="‚Äî" Foreground="{DynamicResource BrushText}"/>
                </StackPanel>
            </Grid>
        </Border>
    </DockPanel>
</Window>